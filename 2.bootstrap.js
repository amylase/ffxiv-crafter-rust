(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,function(n,e,t){"use strict";var r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0});var a=t(6),i=r(t(2)),o=r(t(10)),u=t(25);o.default.render(a.jsx(i.default.StrictMode,{children:a.jsx(u.App,{},void 0)},void 0),document.getElementById("root"))},,,function(n,e,t){"use strict";(function(n,r){t.d(e,"L",(function(){return j})),t.d(e,"F",(function(){return b})),t.d(e,"K",(function(){return x})),t.d(e,"G",(function(){return S})),t.d(e,"I",(function(){return O})),t.d(e,"J",(function(){return P})),t.d(e,"H",(function(){return I})),t.d(e,"d",(function(){return N})),t.d(e,"q",(function(){return L})),t.d(e,"u",(function(){return A})),t.d(e,"D",(function(){return F})),t.d(e,"p",(function(){return E})),t.d(e,"y",(function(){return G})),t.d(e,"w",(function(){return B})),t.d(e,"m",(function(){return R})),t.d(e,"z",(function(){return q})),t.d(e,"r",(function(){return k})),t.d(e,"c",(function(){return D})),t.d(e,"i",(function(){return Q})),t.d(e,"g",(function(){return J})),t.d(e,"o",(function(){return U})),t.d(e,"n",(function(){return V})),t.d(e,"k",(function(){return W})),t.d(e,"b",(function(){return Y})),t.d(e,"s",(function(){return X})),t.d(e,"x",(function(){return H})),t.d(e,"e",(function(){return K})),t.d(e,"f",(function(){return z})),t.d(e,"A",(function(){return Z})),t.d(e,"a",(function(){return $})),t.d(e,"j",(function(){return nn})),t.d(e,"t",(function(){return en})),t.d(e,"h",(function(){return tn})),t.d(e,"l",(function(){return rn})),t.d(e,"v",(function(){return an})),t.d(e,"C",(function(){return on})),t.d(e,"E",(function(){return un})),t.d(e,"B",(function(){return sn}));var a=t(19);const i=new Array(32).fill(void 0);function o(n){return i[n]}i.push(void 0,null,!0,!1);let u=i.length;function s(n){const e=o(n);return function(n){n<36||(i[n]=u,u=n)}(n),e}function c(n){u===i.length&&i.push(i.length+1);const e=u;return u=i[e],i[e]=n,e}let l=new("undefined"==typeof TextDecoder?(0,n.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});l.decode();let d=null;function f(){return null!==d&&d.buffer===a.j.buffer||(d=new Uint8Array(a.j.buffer)),d}function v(n,e){return l.decode(f().subarray(n,n+e))}let p=0;let _=new("undefined"==typeof TextEncoder?(0,n.require)("util").TextEncoder:TextEncoder)("utf-8");const g="function"==typeof _.encodeInto?function(n,e){return _.encodeInto(n,e)}:function(n,e){const t=_.encode(n);return e.set(t),{read:n.length,written:t.length}};function m(n,e,t){if(void 0===t){const t=_.encode(n),r=e(t.length);return f().subarray(r,r+t.length).set(t),p=t.length,r}let r=n.length,a=e(r);const i=f();let o=0;for(;o<r;o++){const e=n.charCodeAt(o);if(e>127)break;i[a+o]=e}if(o!==r){0!==o&&(n=n.slice(o)),a=t(a,r,r=o+3*n.length);const e=f().subarray(a+o,a+r);o+=g(n,e).written}return p=o,a}let h=null;function y(){return null!==h&&h.buffer===a.j.buffer||(h=new Int32Array(a.j.buffer)),h}function j(n,e){try{const c=a.a(-16);var t=m(n,a.d,a.e),r=p,i=m(e,a.d,a.e),o=p;a.m(c,t,r,i,o);var u=y()[c/4+0],s=y()[c/4+1];return v(u,s)}finally{a.a(16),a.c(u,s)}}function b(n,e,t){try{const f=a.a(-16);var r=m(n,a.d,a.e),i=p,o=m(e,a.d,a.e),u=p,s=m(t,a.d,a.e),c=p;a.f(f,r,i,o,u,s,c);var l=y()[f/4+0],d=y()[f/4+1];return v(l,d)}finally{a.a(16),a.c(l,d)}}function x(n,e,t){try{const f=a.a(-16);var r=m(n,a.d,a.e),i=p,o=m(e,a.d,a.e),u=p,s=m(t,a.d,a.e),c=p;a.l(f,r,i,o,u,s,c);var l=y()[f/4+0],d=y()[f/4+1];return v(l,d)}finally{a.a(16),a.c(l,d)}}function S(n,e){try{const c=a.a(-16);var t=m(n,a.d,a.e),r=p,i=m(e,a.d,a.e),o=p;a.g(c,t,r,i,o);var u=y()[c/4+0],s=y()[c/4+1];return v(u,s)}finally{a.a(16),a.c(u,s)}}const C=new Uint32Array(2),w=new BigInt64Array(C.buffer);function O(n,e){try{const u=a.a(-16);var t=m(n,a.d,a.e),r=p;w[0]=e;const s=C[0],c=C[1];a.i(u,t,r,s,c);var i=y()[u/4+0],o=y()[u/4+1];return v(i,o)}finally{a.a(16),a.c(i,o)}}function P(n,e,t){try{const s=a.a(-16);var r=m(n,a.d,a.e),i=p;w[0]=e;const c=C[0],l=C[1];a.k(s,r,i,c,l,t);var o=y()[s/4+0],u=y()[s/4+1];return v(o,u)}finally{a.a(16),a.c(o,u)}}function I(n,e,t){try{const l=a.a(-16);var r=m(n,a.d,a.e),i=p,o=m(e,a.d,a.e),u=p;w[0]=t;const d=C[0],f=C[1];a.h(l,r,i,o,u,d,f);var s=y()[l/4+0],c=y()[l/4+1];return v(s,c)}finally{a.a(16),a.c(s,c)}}function M(n,e){try{return n.apply(this,e)}catch(n){a.b(c(n))}}function T(n,e){return f().subarray(n/1,n/1+e)}function N(){return M((function(n,e){o(n).getRandomValues(o(e))}),arguments)}function L(){return M((function(n,e,t){o(n).randomFillSync(T(e,t))}),arguments)}function A(){return c(n)}function F(n){s(n)}function E(n){return c(o(n).process)}function G(n){const e=o(n);return"object"==typeof e&&null!==e}function B(n){return c(o(n).versions)}function R(n){return c(o(n).node)}function q(n){return"string"==typeof o(n)}function k(){return M((function(n,e,t){return c(o(n).require(v(e,t)))}),arguments)}function D(n){return c(o(n).crypto)}function Q(n){return c(o(n).msCrypto)}function J(n){return o(n)instanceof Window}function U(n){var e=o(n).performance;return null==e?0:c(e)}function V(n){return o(n).now()}function W(n,e){return c(new Function(v(n,e)))}function Y(){return M((function(n,e){return c(o(n).call(o(e)))}),arguments)}function X(){return M((function(){return c(self.self)}),arguments)}function H(){return M((function(){return c(window.window)}),arguments)}function K(){return M((function(){return c(globalThis.globalThis)}),arguments)}function z(){return M((function(){return c(r.global)}),arguments)}function Z(n){return void 0===o(n)}function $(n){return c(o(n).buffer)}function nn(n){return c(new Uint8Array(o(n)))}function en(n,e,t){o(n).set(o(e),t>>>0)}function tn(n){return o(n).length}function rn(n){return c(new Uint8Array(n>>>0))}function an(n,e,t){return c(o(n).subarray(e>>>0,t>>>0))}function on(n){return c(o(n))}function un(n,e){throw new Error(v(n,e))}function sn(){return c(a.j)}}).call(this,t(31)(n),t(32))},,,,function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useLanguage=void 0;e.useLanguage=function(){var n=new URLSearchParams(window.location.search.substring(1)).get("lang");return n||(n=localStorage.getItem("ffxiv-crafter-language")),n||(n="en"),[n,function(n){localStorage.setItem("ffxiv-crafter-language",n),location.search="?lang="+n}]}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.translationProvider=e.supportedLanguages=void 0,e.supportedLanguages=["en","ja"];var r={durability:{en:"Durability",ja:"耐久"},progress:{en:"Progress",ja:"工数"},quality:{en:"Quality",ja:"品質"},cp:{en:"CP",ja:"CP"},condition:{en:"Condition",ja:"状態"},BasicSynthesis:{en:"Basic Synthesis",ja:"作業"},BasicTouch:{en:"Basic Touch",ja:"加工"},MastersMend:{en:"Master's Mend",ja:"マスターズメンド"},InnerQuiet:{en:"Inner Quiet",ja:"インナークワイエット"},DelicateSynthesis:{en:"Delicate Synthesis",ja:"精密作業"},CarefulSynthesis:{en:"Careful Synthesis",ja:"模範作業"},Groundwork:{en:"Groundwork",ja:"下地作業"},Observe:{en:"Observe",ja:"経過観察"},ByregotBlessing:{en:"Byregot's Blessing",ja:"ビエルゴの祝福"},PreparatoryTouch:{en:"Preparatory Touch",ja:"下地加工"},RapidSynthesis:{en:"Rapid Synthesis",ja:"突貫作業"},IntensiveSynthesis:{en:"Intensive Synthesis",ja:"集中作業"},HastyTouch:{en:"Hasty Touch",ja:"ヘイスティタッチ"},PreciseTouch:{en:"Precise Touch",ja:"集中加工"},PatientTouch:{en:"Patient Touch",ja:"専心加工"},TrickOfTheTrade:{en:"Tricks of the Trade",ja:"秘訣"},Innovation:{en:"Innovation",ja:"イノベーション"},Veneration:{en:"Veneration",ja:"ヴェネレーション"},MuscleMemory:{en:"Muscle Memory",ja:"確信"},FocusedSynthesis:{en:"Focused Synthesis",ja:"注視作業"},StandardTouch:{en:"Standard Touch",ja:"中級加工"},FocusedTouch:{en:"Focused Touch",ja:"注視加工"},Reflect:{en:"Reflect",ja:"真価"},WasteNot:{en:"Waste Not",ja:"倹約"},WasteNotII:{en:"Waste Not II",ja:"長期倹約"},PrudentTouch:{en:"Prudent Touch",ja:"倹約加工"},GreatStrides:{en:"Great Strides",ja:"グレートストライド"},FinalAppraisal:{en:"Final Appraisal",ja:"最終確認"},Manipulation:{en:"Manipulation",ja:"マニピュレーション"},AdvancedTouch:{en:"Advanced Touch",ja:"上級加工"},PrudentSynthesis:{en:"Prudent Synthesis",ja:"倹約作業"},TrainedFinesse:{en:"Trained Finesse",ja:"匠の神業"},NORMAL:{en:"Normal",ja:"通常"},GOOD:{en:"Good",ja:"高品質"},EXCELLENT:{en:"Excellent",ja:"最高品質"},POOR:{en:"Poor",ja:"低品質"},CENTRED:{en:"Centred",ja:"安定"},PLIANT:{en:"Pliant",ja:"高能率"},STURDY:{en:"Sturdy",ja:"頑丈"},MALLEABLE:{en:"Malleable",ja:"高進捗"},PRIMED:{en:"Primed",ja:"長持続"},inner_quiet:{en:"Inner Quiet",ja:"インナークワイエット"},innovation:{en:"Innovation",ja:"イノベーション"},veneration:{en:"Veneration",ja:"ヴェネレーション"},muscle_memory:{en:"Muscle Memory",ja:"確信"},waste_not:{en:"Waste Not",ja:"倹約"},great_strides:{en:"Great Strides",ja:"グレートストライド"},final_appraisal:{en:"Final Appraisal",ja:"最終確認"},manipulation:{en:"Manipulation",ja:"マニピュレーション"},EnableAIAdvice:{en:"Enable AI Advice",ja:"AIの候補を表示"},Success:{en:"Success",ja:"成功"},Failure:{en:"Failure",ja:"失敗"},ClassLevel:{en:"Class Level",ja:"クラフターレベル"},Craftsmanship:{en:"Craftsmanship",ja:"作業精度"},Control:{en:"Control",ja:"加工精度"},MaxCP:{en:"Max CP",ja:"最大CP"},RecipeLevel:{en:"Recipe Level",ja:"レシピレベル"},MaxDurability:{en:"Durability",ja:"耐久"},MaxProgress:{en:"Max Progress",ja:"必要工数"},MaxQuality:{en:"Max Quality",ja:"最大品質"},InitialQuality:{en:"Initial Quality",ja:"初期品質"},IsExpert:{en:"Expert Recipe",ja:"高難易度レシピ"},Advisor:{en:"Advisor",ja:"アドバイザー"},Macro:{en:"Macro",ja:"マクロ"},PlanMacroFaster:{en:"Generate Macro (faster)",ja:"マクロ作成 (高速)"},PlanMacroBetter:{en:"Generate Macro (better)",ja:"マクロ作成 (高性能)"},SuccessRate:{en:"success rate",ja:"製作成功確率"},MaxQualityRate:{en:"max quality rate",ja:"最高品質達成率"},AverageQuality:{en:"average quality",ja:"平均品質"},MacroLength:{en:"macro length",ja:"マクロの長さ"},InProgress:{en:"In progress...",ja:"計算中..."},OutputMacro:{en:"Macro",ja:"マクロ"},MacroAnalysis:{en:"Macro Quality",ja:"マクロ評価"},InvalidParameters:{en:"Invalid Parameters",ja:"パラメータの値が正しくありません"}};e.translationProvider=function(n){return function(e){if(void 0!==e)return e in r?n in r[e]?r[e][n]:"err: language "+n+" does not exist for key "+e+".":"err: key "+e+" does not exist."}}},,,,,,,function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateConfiguration=e.initial_state=e.craftActions=e.craftResults=e.statusConditions=void 0,e.statusConditions=["NORMAL","GOOD","EXCELLENT","POOR","CENTRED","PLIANT","STURDY","MALLEABLE","PRIMED"],e.craftResults=["ONGOING","FAILED","SUCCESS"],e.craftActions=["BasicSynthesis","BasicTouch","MastersMend","DelicateSynthesis","CarefulSynthesis","Groundwork","Observe","ByregotBlessing","PreparatoryTouch","RapidSynthesis","IntensiveSynthesis","HastyTouch","PreciseTouch","TrickOfTheTrade","Innovation","Veneration","MuscleMemory","FocusedSynthesis","StandardTouch","FocusedTouch","Reflect","WasteNot","WasteNotII","PrudentTouch","GreatStrides","FinalAppraisal","Manipulation","AdvancedTouch","PrudentSynthesis","TrainedFinesse"],e.initial_state=function(n){var e=n.params,t=n.initialQuality;return{durability:e.item.max_durability,progress:0,quality:t,cp:e.player.max_cp,condition:"NORMAL",inner_quiet:0,innovation:0,veneration:0,muscle_memory:0,waste_not:0,great_strides:0,final_appraisal:0,manipulation:0,standard_touch_ready:!1,advanced_touch_ready:!1,turn:1,result:"ONGOING"}},e.validateConfiguration=function(n){return!(n.initialQuality<0||n.initialQuality>n.params.item.max_quality)&&(!(n.params.player.job_level<1||n.params.player.job_level>90)&&(!(n.params.player.craftsmanship<0)&&(!(n.params.player.control<0)&&(!(n.params.player.max_cp<0)&&(!(n.params.item.recipe_level<1)&&(!(n.params.item.max_durability<=0)&&(!(n.params.item.max_progress<=0)&&!(n.params.item.max_quality<=0))))))))}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useCraftConfiguration=void 0;var r="ffxiv-crafter-craft-configuration";e.useCraftConfiguration=function(){return{getCraftConfig:function(){var n;if(localStorage.getItem(r))n=JSON.parse(localStorage.getItem(r));else{n={params:{player:{job_level:80,craftsmanship:2978,control:2787,max_cp:655},item:{recipe_level:516,max_durability:55,max_progress:5059,max_quality:15474}},initialQuality:0}}return n},setCraftConfig:function(n){localStorage.setItem(r,JSON.stringify(n))}}}},function(n,e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(n,e,t,r){void 0===r&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){void 0===r&&(r=t),n[r]=e[t]}),a=this&&this.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),i=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(null!=n)for(var t in n)"default"!==t&&Object.prototype.hasOwnProperty.call(n,t)&&r(e,n,t);return a(e,n),e};Object.defineProperty(e,"__esModule",{value:!0}),e.evaluate_macro=e.plan_macro=e.available_actions=e.play_action=e.apply_action=e.search_best_move=void 0;var o=i(t(30));e.search_best_move=function(n,e){return JSON.parse(o.search_best_move(JSON.stringify(n),JSON.stringify(e)))},e.apply_action=function(n,e,t){var r=o.apply_action(JSON.stringify(n),JSON.stringify(e),t);return JSON.parse(r)},e.play_action=function(n,e,t){var r=o.play_action(JSON.stringify(n),JSON.stringify(e),t);return JSON.parse(r)},e.available_actions=function(n,e){var t=o.available_actions(JSON.stringify(n),JSON.stringify(e));return JSON.parse(t)},e.plan_macro=function(n,e,t){var r=o.plan_macro(JSON.stringify(n),BigInt(e),t);return JSON.parse(r)},e.evaluate_macro=function(n,e,t){var r=o.evaluate_macro(JSON.stringify(n),JSON.stringify(e),BigInt(t));return JSON.parse(r)}},function(n,e,t){"use strict";var r=t.w[n.i];n.exports=r;t(4);r.n()},,,,,,function(n,e,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;var a=t(6),i=t(26),o=t(37);e.App=function(n){return a.jsxs("div",r({className:"m-5"},{children:[a.jsx(o.LanguageSelector,{},void 0),a.jsx(i.CrafterGame,{},void 0)]}),void 0)}},function(n,e,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.CrafterGame=void 0;var a,i=t(6),o=t(2),u=t(11),s=t(17),c=t(8),l=t(16),d=t(18),f=t(9),v=t(33),p=t(34),_=t(35),g=t(36);!function(n){n[n.CONFIGURING=0]="CONFIGURING",n[n.PLAYABLE=1]="PLAYABLE",n[n.SELECTING_NEXT_STATE=2]="SELECTING_NEXT_STATE"}(a||(a={})),e.CrafterGame=function(){var n,e=s.useCraftConfiguration(),t=e.getCraftConfig,m=e.setCraftConfig,h=t(),y=o.useState(l.initial_state(h)),j=y[0],b=y[1],x=o.useState(a.CONFIGURING),S=x[0],C=x[1],w=o.useState(void 0),O=w[0],P=w[1],I=c.useLanguage(),M=I[0],T=(I[1],f.translationProvider(M)),N=d.available_actions(h.params,j);function L(n){return function(){var e=d.play_action(h.params,j,n);P(e.map((function(n){return n.state}))),C(a.SELECTING_NEXT_STATE)}}S===a.PLAYABLE&&"ONGOING"===j.result&&(n=d.search_best_move(h.params,j));for(var A=l.craftActions.map((function(e){var t,a;return e===n?(t=!1,a="success"):N.some((function(n){return n==e}))?(t=!1,a="primary"):(t=!0,a="secondary"),i.jsx(u.Button,r({variant:a,disabled:t,onClick:L(e)},{children:T(e)}),e)})),F=[],E=0;E<A.length;E+=6)F.push(A.slice(E,Math.min(E+6,A.length)));return i.jsxs("div",{children:[i.jsx("div",r({className:"mt-3"},{children:i.jsx(g.ParameterEditor,{initialValue:h,onChange:function(n){m(n),C(a.CONFIGURING)}},void 0)}),void 0),i.jsxs(u.Tabs,r({className:"mt-3"},{children:[i.jsx(u.Tab,r({eventKey:"advice",title:T("Advisor")},{children:i.jsxs("div",r({className:"mt-3"},{children:[i.jsx(u.Button,r({variant:"primary",onClick:function(){l.validateConfiguration(h)?(b(l.initial_state(h)),C(a.PLAYABLE)):alert(T("InvalidParameters"))}},{children:"Start"}),void 0),i.jsx(v.GameStateView,{params:h.params,state:j},void 0),S===a.PLAYABLE?i.jsxs(u.Form,{children:[i.jsx(u.Form.Group,r({className:"mb-3"},{children:F.map((function(n){return i.jsx("div",r({className:"mt-1"},{children:i.jsx(u.ButtonGroup,{children:n},void 0)}),void 0)}))}),void 0),i.jsxs(u.Form.Group,r({className:"mb-3"},{children:["AI: ",T(n)]}),void 0)]},void 0):S===a.SELECTING_NEXT_STATE?i.jsx(_.NextStateSelector,{options:O,onChange:function(n){b(n),C(a.PLAYABLE),P(void 0)}},void 0):null,i.jsx(u.Button,r({variant:"danger",onClick:function(){l.validateConfiguration(h)?(b(l.initial_state(h)),C(a.PLAYABLE),P(void 0)):alert(T("InvalidParameters"))}},{children:"Reset"}),void 0)]}),void 0)}),void 0),i.jsx(u.Tab,r({eventKey:"macro",title:T("Macro")},{children:i.jsx(p.MacroPlanner,{},void 0)}),void 0)]}),void 0)]},void 0)}},,,,function(n,e,t){"use strict";t.r(e);var r=t(4);t.d(e,"search_best_move",(function(){return r.L})),t.d(e,"apply_action",(function(){return r.F})),t.d(e,"play_action",(function(){return r.K})),t.d(e,"available_actions",(function(){return r.G})),t.d(e,"initial_state",(function(){return r.I})),t.d(e,"plan_macro",(function(){return r.J})),t.d(e,"evaluate_macro",(function(){return r.H})),t.d(e,"__wbg_getRandomValues_99bbe8a65f4aef87",(function(){return r.d})),t.d(e,"__wbg_randomFillSync_378e02b85af41ab6",(function(){return r.q})),t.d(e,"__wbg_static_accessor_NODE_MODULE_bdc5ca9096c68aeb",(function(){return r.u})),t.d(e,"__wbindgen_object_drop_ref",(function(){return r.D})),t.d(e,"__wbg_process_5729605ce9d34ea8",(function(){return r.p})),t.d(e,"__wbindgen_is_object",(function(){return r.y})),t.d(e,"__wbg_versions_531e16e1a776ee97",(function(){return r.w})),t.d(e,"__wbg_node_18b58a160b60d170",(function(){return r.m})),t.d(e,"__wbindgen_is_string",(function(){return r.z})),t.d(e,"__wbg_require_edfaedd93e302925",(function(){return r.r})),t.d(e,"__wbg_crypto_2bc4d5b05161de5b",(function(){return r.c})),t.d(e,"__wbg_msCrypto_d003eebe62c636a9",(function(){return r.i})),t.d(e,"__wbg_instanceof_Window_434ce1849eb4e0fc",(function(){return r.g})),t.d(e,"__wbg_performance_bbca4ccfaef860b2",(function(){return r.o})),t.d(e,"__wbg_now_5fa0ca001e042f8a",(function(){return r.n})),t.d(e,"__wbg_newnoargs_f579424187aa1717",(function(){return r.k})),t.d(e,"__wbg_call_89558c3e96703ca1",(function(){return r.b})),t.d(e,"__wbg_self_e23d74ae45fb17d1",(function(){return r.s})),t.d(e,"__wbg_window_b4be7f48b24ac56e",(function(){return r.x})),t.d(e,"__wbg_globalThis_d61b1f48a57191ae",(function(){return r.e})),t.d(e,"__wbg_global_e7669da72fd7f239",(function(){return r.f})),t.d(e,"__wbindgen_is_undefined",(function(){return r.A})),t.d(e,"__wbg_buffer_5e74a88a1424a2e0",(function(){return r.a})),t.d(e,"__wbg_new_e3b800e570795b3c",(function(){return r.j})),t.d(e,"__wbg_set_5b8081e9d002f0df",(function(){return r.t})),t.d(e,"__wbg_length_30803400a8f15c59",(function(){return r.h})),t.d(e,"__wbg_newwithlength_5f4ce114a24dfe1e",(function(){return r.l})),t.d(e,"__wbg_subarray_a68f835ca2af506f",(function(){return r.v})),t.d(e,"__wbindgen_object_clone_ref",(function(){return r.C})),t.d(e,"__wbindgen_throw",(function(){return r.E})),t.d(e,"__wbindgen_memory",(function(){return r.B}))},,,function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GameStateView=void 0;var r=t(6),a=t(8),i=t(9);e.GameStateView=function(n){for(var e=n.params,t=n.state,o=a.useLanguage(),u=o[0],s=(o[1],i.translationProvider(u)),c=[],l=0,d=["inner_quiet","innovation","veneration","muscle_memory","waste_not","great_strides","final_appraisal","manipulation"];l<d.length;l++){var f=d[l];t[f]>0&&c.push(s(f)+": "+t[f])}return r.jsxs("div",{children:[r.jsxs("p",{children:[s("durability"),": ",t.durability," / ",e.item.max_durability]},void 0),r.jsxs("p",{children:[s("progress"),": ",t.progress," / ",e.item.max_progress]},void 0),r.jsxs("p",{children:[s("quality"),": ",t.quality," / ",e.item.max_quality]},void 0),r.jsxs("p",{children:[s("cp"),": ",t.cp," / ",e.player.max_cp]},void 0),r.jsx("p",{children:c.join(", ")},void 0),r.jsxs("p",{children:[s("condition"),": ",s(t.condition)]},void 0)]},void 0)}},function(n,e,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MacroPlanner=void 0;var a=t(6),i=t(2),o=t(11),u=t(17),s=t(8),c=t(16),l=t(18),d=t(9);function f(n){return void 0!==["Observe","TrickOfTheTrade","Innovation","Veneration","WasteNot","WasteNotII","GreatStrides","FinalAppraisal","Manipulation"].find((function(e){return n===e}))?2:3}function v(n,e){var t=e(n);return t.indexOf(" ")>=0?'"'+t+'"':t}e.MacroPlanner=function(){var n=i.useState(""),e=n[0],t=n[1],p=i.useState(""),_=p[0],g=p[1],m=s.useLanguage(),h=m[0],y=(m[1],d.translationProvider(h)),j=u.useCraftConfiguration().getCraftConfig;function b(n){t(n),function(n){var e=j(),t=e.params,r=e.initialQuality,a=function(n){for(var e=[],t=0,r=n.split("\n");t<r.length;t++){var a=r[t];if((a=a.trim()).startsWith("/ac")){var i=a.indexOf('"'),o=void 0;if(i>=0){var u=a.lastIndexOf('"');o=a.substring(i,u+1)}else{o=a.split(" ").map((function(n){return n.trim()})).filter((function(n){return n.length>0}))[1]}for(var s=void 0,l=0,f=d.supportedLanguages;l<f.length;l++){for(var p=f[l],_=d.translationProvider(p),g=0,m=c.craftActions;g<m.length;g++){var h=m[g];if(o===v(h,_)){s=h;break}}if(s)break}s&&e.push(s)}}return e}(n);if(a){var i=l.evaluate_macro(t,a,r),o=[y("SuccessRate")+": "+(100*i.success_rate).toFixed(2)+"%",y("MaxQualityRate")+": "+(100*i.max_quality_rate).toFixed(2)+"%",y("AverageQuality")+": "+Math.round(i.average_quality*t.item.max_quality),y("MacroLength")+": "+i.macro_length];g(o.join("\n"))}}(n)}function x(n){return function(){var e=j(),r=e.params,a=e.initialQuality;c.validateConfiguration({params:r,initialQuality:a})?(t(y("InProgress")),b(function(n,e){for(var t=[],r=0;r<n.length;r+=15){var a=n.slice(r,Math.min(r+15,n.length)).map((function(n){return"/action "+v(n,e)+" <wait."+f(n)+">"})).join("\n");t.push(a)}return t.join("\n\n")}(l.plan_macro(r,a,n),y))):alert(y("InvalidParameters"))}}return a.jsxs("div",r({className:"mt-3"},{children:[a.jsx(o.Button,r({variant:"primary",onClick:x(!1)},{children:y("PlanMacroFaster")}),void 0),a.jsx(o.Button,r({className:"ml-2",variant:"secondary",onClick:x(!0)},{children:y("PlanMacroBetter")}),void 0),a.jsxs(o.Form.Group,r({className:"mt-3",controlId:"macroOutput"},{children:[a.jsx(o.Form.Label,{children:y("OutputMacro")},void 0),a.jsx(o.Form.Control,{as:"textarea",value:e,onChange:function(n){return b(n.target.value)},rows:15},void 0)]}),void 0),a.jsxs(o.Form.Group,r({className:"mt-3",controlId:"macroAnalysis"},{children:[a.jsx(o.Form.Label,{children:y("MacroAnalysis")},void 0),a.jsx(o.Form.Control,{as:"textarea",value:_,rows:4,readOnly:!0},void 0)]}),void 0)]}),void 0)}},function(n,e,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.NextStateSelector=void 0;var a=t(6),i=t(11),o=t(8),u=t(16),s=t(9);function c(n){return n.progress+n.quality+n.inner_quiet}function l(n,e){return n+"-"+e}e.NextStateSelector=function(n){var e=n.options,t=n.onChange,d=o.useLanguage(),f=d[0],v=(d[1],s.translationProvider(f)),p=Array.from(new Set(e.map(c)));p.sort((function(n,e){return e-n}));for(var _=u.statusConditions.filter((function(n){return e.some((function(e){return e.condition===n}))})),g=new Map,m=0,h=_;m<h.length;m++)for(var y=h[m],j=0,b=p;j<b.length;j++)for(var x=b[j],S=function(n){c(n)===x&&n.condition===y&&g.set(l(c(n),n.condition),a.jsx(i.Button,r({onClick:function(){return t(n)}},{children:" "}),void 0))},C=0,w=e;C<w.length;C++){S(w[C])}var O=p.map((function(n,e){return 0===e?v("Success"):1===e?v("Failure"):"? "+(e-1)}));return a.jsxs(i.Table,{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"#"},void 0),_.map((function(n){return a.jsx("th",{children:v(n)},n)}))]},void 0)},void 0),a.jsx("tbody",{children:p.map((function(n,e){var t=O[e];return a.jsxs("tr",{children:[a.jsx("td",{children:t},void 0),_.map((function(e){return a.jsx("td",{children:g.get(l(n,e))},l(n,e))}))]},e)}))},void 0)]},void 0)}},function(n,e,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterEditor=void 0;var a=t(6),i=t(2),o=t(11),u=t(8),s=t(9),c={1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,"50★":55,"50★★":70,"50★★★":90,"50★★★★":110,51:120,52:125,53:130,54:133,55:136,56:139,57:142,58:145,59:148,60:150,"60★":160,"60★★":180,"60★★★":210,"60★★★★":250,61:260,62:265,63:270,64:273,65:276,66:279,67:282,68:285,69:288,70:290,"70★":300,"70★★":320,"70★★★":350,"70★★★★":380,71:390,72:395,73:400,74:403,75:406,76:409,77:412,78:415,79:418,80:430,"80★":440,"80★★":450,"80★★★ (480)":480,"80★★★ (490)":490,"80★★★★ (511)":511,"80★★★★ (512)":512,"80★★★★ (513)":513,"80★★★★ (514)":514,"80★★★★ (515)":515,"80★★★★★":516,81:517,82:520,83:525,84:530,85:535,86:540,87:545,88:550,89:555,90:560,"90★":570,"90★★":580};e.ParameterEditor=function(n){var e=n.initialValue,t=n.onChange,l=u.useLanguage(),d=l[0],f=(l[1],i.useState(e.params.player.job_level.toString())),v=f[0],p=f[1],_=i.useState(e.params.player.craftsmanship.toString()),g=_[0],m=_[1],h=i.useState(e.params.player.control.toString()),y=h[0],j=h[1],b=i.useState(e.params.player.max_cp.toString()),x=b[0],S=b[1],C=i.useState(e.params.item.recipe_level),w=C[0],O=C[1],P=i.useState(e.params.item.max_durability.toString()),I=P[0],M=P[1],T=i.useState(e.params.item.max_progress.toString()),N=T[0],L=T[1],A=i.useState(e.params.item.max_quality.toString()),F=A[0],E=A[1],G=i.useState(e.initialQuality.toString()),B=G[0],R=G[1],q=s.translationProvider(d),k={params:{player:{job_level:parseInt(v),craftsmanship:parseInt(g),control:parseInt(y),max_cp:parseInt(x)},item:{recipe_level:w,max_durability:parseInt(I),max_progress:parseInt(N),max_quality:parseInt(F)}},initialQuality:parseInt(B)};function D(n){t(r(r({},k),n))}function Q(n){D({params:r(r({},k.params),n)})}function J(n){Q({item:r(r({},k.params.item),n)})}function U(n){Q({player:r(r({},k.params.player),n)})}function V(n,e){var t=parseInt(n);Number.isInteger(t)&&e(t)}var W=Object.keys(c);return W.sort((function(n,e){return c[n]-c[e]})),a.jsxs(o.Form,{children:[a.jsxs(o.Row,{children:[a.jsxs(o.Form.Group,r({as:o.Col},{children:[a.jsx(o.Form.Label,{children:q("ClassLevel")},void 0),a.jsx(o.Form.Control,{value:v,onChange:function(n){p(n.target.value),V(n.target.value,(function(n){return U({job_level:n})}))}},void 0)]}),void 0),a.jsxs(o.Form.Group,r({as:o.Col},{children:[a.jsx(o.Form.Label,{children:q("Craftsmanship")},void 0),a.jsx(o.Form.Control,{value:g,onChange:function(n){m(n.target.value),V(n.target.value,(function(n){return U({craftsmanship:n})}))}},void 0)]}),void 0),a.jsxs(o.Form.Group,r({as:o.Col},{children:[a.jsx(o.Form.Label,{children:q("Control")},void 0),a.jsx(o.Form.Control,{value:y,onChange:function(n){j(n.target.value),V(n.target.value,(function(n){return U({control:n})}))}},void 0)]}),void 0),a.jsxs(o.Form.Group,r({as:o.Col},{children:[a.jsx(o.Form.Label,{children:q("MaxCP")},void 0),a.jsx(o.Form.Control,{value:x,onChange:function(n){S(n.target.value),V(n.target.value,(function(n){return U({max_cp:n})}))}},void 0)]}),void 0)]},void 0),a.jsxs(o.Row,{children:[a.jsxs(o.Form.Group,r({as:o.Col},{children:[a.jsx(o.Form.Label,{children:q("RecipeLevel")},void 0),a.jsx(o.Form.Control,r({as:"select",onChange:function(n){var e=parseInt(n.target.value);O(e),J({recipe_level:e})}},{children:W.map((function(n){return a.jsx("option",r({value:c[n],selected:c[n]===w},{children:n}),n)}))}),void 0)]}),void 0),a.jsxs(o.Form.Group,r({as:o.Col},{children:[a.jsx(o.Form.Label,{children:q("MaxDurability")},void 0),a.jsx(o.Form.Control,{value:I,onChange:function(n){M(n.target.value),V(n.target.value,(function(n){return J({max_durability:n})}))}},void 0)]}),void 0),a.jsxs(o.Form.Group,r({as:o.Col},{children:[a.jsx(o.Form.Label,{children:q("MaxProgress")},void 0),a.jsx(o.Form.Control,{value:N,onChange:function(n){L(n.target.value),V(n.target.value,(function(n){return J({max_progress:n})}))}},void 0)]}),void 0),a.jsxs(o.Form.Group,r({as:o.Col},{children:[a.jsx(o.Form.Label,{children:q("MaxQuality")},void 0),a.jsx(o.Form.Control,{value:F,onChange:function(n){E(n.target.value),V(n.target.value,(function(n){return J({max_quality:n})}))}},void 0)]}),void 0),a.jsxs(o.Form.Group,r({as:o.Col},{children:[a.jsx(o.Form.Label,{children:q("InitialQuality")},void 0),a.jsx(o.Form.Control,{value:B,onChange:function(n){R(n.target.value),V(n.target.value,(function(n){return D({initialQuality:n})}))}},void 0)]}),void 0)]},void 0)]},void 0)}},function(n,e,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageSelector=void 0;var a=t(6),i=t(11),o=t(8),u=t(9),s={en:"English",ja:"日本語"};e.LanguageSelector=function(){var n=o.useLanguage(),e=n[0],t=n[1];return a.jsx(i.ButtonGroup,{children:u.supportedLanguages.map((function(n){return a.jsx(i.Button,r({variant:n===e?"secondary":"outline-secondary",onClick:function(e){return t(n)}},{children:s[n]}),n)}))},void 0)}}]]);
//# sourceMappingURL=2.bootstrap.js.map